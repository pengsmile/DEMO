<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <a href="javascript:alert('清除成功');">清除缓存</a>
    <script>
        // 星级评分组件
        var rate = 3;
        var rates = "★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate);
        document.write('<h1>'+ rates +'</h1>')
        // sb
        console.log((!(~+[]) + {})[--[~+""][+[]] * [~+[]] + ~~!+[]] + ({} + [])[[~!+[]] * ~+[]]);
        // nb
        console.log(([][
            []
        ] + [])[+!![]] + ([] + {})[!+[] + !![]]);

        // 论如何优雅的取随机字符串
        Math.random().toString(16).substring(2)
        Math.random().toString(36).substring(2)

        //(10)["toString"]() === "10"
        console.log((10)["toString"]() === "10");

        // 金钱格式化
        // 正则实现
        var test1 = '1234567890'
        var format = test1.replace(/\B(?=(\d{3})+(?!\d))/g, ',')
        console.log(format) // 1,234,567,890

        // 非正则实现
        function formatCash(str) {
            return str.split('').reverse().reduce((prev, next, index) => {
                return ((index % 3) ? next : (next + ',')) + prev
            })
        }
        console.log(formatCash('1234567890')) // 1,234,567,890

        //论如何最佳的让两个整数交换数值
        // 常规办法
        var a = 1,
            b = 2;
        a += b;
        b = a - b;
        a -= b;
        // 黑科技
        a ^= b;
        b ^= a;
        a ^= b;

        // 对象深层拷贝
        var a = {
            a: 1,
            b: {
                c: 1,
                d: 2
            }
        }
        var b = JSON.parse(JSON.stringify(a));

        // 一行代码数组去重复
        var arr = [...new Set([1, "1", 2, 1, 1, 3, 3, 2, 5, 6, 5, 7])];
        console.log(arr);

        // 一行实现数组长度为6并且全是8的数组
        var enarr = Array(6).fill(8);
        console.log(enarr);

        // 取数组中最大与最小
        var numbers = [5, 458, 120, -215, 228, 400, 122205, -85411];
        var maxInNumbers = Math.max.apply(Math, numbers);
        var minInNumbers = Math.min.apply(Math, numbers);

        // 从一个数组中找到一个数
        function find(x, y) {
            for (let i = 0; i < x.length; i++) {
                if (x[i] == y) return i;
            }
            return null;
        }
        let indexofarr = [0, 1, 2, 3, 4, 5]
        console.log(find(indexofarr, 2))
        console.log(find(indexofarr, 8))
    </script>
</body>

</html>