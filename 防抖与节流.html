<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>
      body {
        height: 200vh;
      }
      .container {
          display: grid;
          grid-template-columns: 1fr 2fr 1fr;
          grid-template-rows: 50px 50px;
      }
    </style>
  </head>
  <body>
    <div class="">
      抖动示例：<input id='input1' type="text" name="" value="" onkeyup="input1()">
    </div>
    <div class="">
      节流示例：<input id='input2' type="text" name="" value="">
    </div>
    <button>阻塞</button>
    <div class="container">
      <div>1</div>
      <div>2</div>
      <div>3</div>
      <div>4</div>
      <div>5</div>
      <div>6</div>
    </div>
  </body>
  <script>
    
    const throttle = (func, ms = 200) => {
        let prev = new Date().getTime()
        return function(...args) {
          let now = new Date().getTime()
          console.log(now - prev)
          if (now - prev >= ms) {
            func()
            prev = now
          }
        }
    }
    // window.onscroll = throttle(()=>{
    //   console.log('123')
    // }, 2000)
    document.querySelector('button').onclick = function () {  
      confirm('Are you ok?')
    }
    // 节流
    var timer = null
    function input1 () {
      clearTimeout(timer)
      timer = setTimeout(function () {
       // ajax()
        console.log(document.getElementById('input1').value)
      }, 500)
    }
    // 防抖
    var flg = false
    function input2 () {
      if (flg) {
        return false
      }
      flg = true
      setTimeout(function () {
       // ajax()
        console.log(document.getElementById('input2').value)
        flg = false
      }, 500)
    }
  </script>
</html>